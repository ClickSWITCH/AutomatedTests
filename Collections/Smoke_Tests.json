{
  "info": {
    "_postman_id": "1dcea77f-1205-444a-8316-1e06856a07e4",
    "name": "Smoke Tests",
    "description": "A collection of tests that hit all the QA endpoints with some tests that ensure the API is up and working. These tests don't test complicated business logic but rather ensure that the correct response types and lengths are being returned.",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "625d0173-fa7d-43dd-a584-8e4e1db380a3",
      "name": "Types",
      "description": "",
      "item": [
        {
          "_postman_id": "bb76a0d1-babc-4d19-9197-1c6f23ccece7",
          "name": "Targets",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "dec5c8c4-00b0-49dd-8414-4c734dbcc905",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has the correct 3 items', function() {",
                  "   pm.expect(jsonData.data.currentItemCount).to.eql(3);",
                  "   pm.expect(jsonData.data.items).to.have.length(3);",
                  "});",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "Api Key"
              }
            ],
            "body": {},
            "url": "{{base_url}}{{targets_postfix}}",
            "description": "Tests out the GET /types/targets method"
          },
          "response": []
        },
        {
          "_postman_id": "ea6e5b8c-c936-42c1-a38c-68285af8b94b",
          "name": "Statuses",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fd8ad196-211c-4f46-b15c-31c52c0c2683",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has the correct 8 items', function() {",
                  "   pm.expect(jsonData.data.currentItemCount).to.eql(8);",
                  "   pm.expect(jsonData.data.items).to.have.length(8);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "Api Key"
              }
            ],
            "body": {},
            "url": "{{base_url}}{{statuses_postfix}}",
            "description": "Testing the GET /types/switch/statuses route"
          },
          "response": []
        },
        {
          "_postman_id": "5204345b-a644-4026-ac12-ca88c67ac237",
          "name": "Actions",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0d1efb8d-cd6c-4c5c-ba88-c927f018be43",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has the correct 6 items', function() {",
                  "   pm.expect(jsonData.data.currentItemCount).to.eql(6);",
                  "   pm.expect(jsonData.data.items).to.have.length(6);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}"
              }
            ],
            "body": {},
            "url": "{{base_url}}{{actions_postfix}}",
            "description": "Tests for the GET /types/switches/actions route."
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "4a86f86c-d43b-4bc9-bea5-44f5665cd8a8",
      "name": "Customers",
      "description": "",
      "item": [
        {
          "_postman_id": "d4acae9c-3b62-4a88-b58a-84cc2a02a43e",
          "name": "Create Customer",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "599c1d68-13db-41fc-a6bc-fe61a2d37c86",
                "type": "text/javascript",
                "exec": [
                  "var timestamp = Date.now();",
                  "pm.environment.set(\"customer_key\", timestamp);",
                  "pm.environment.set(\"customer_email\", timestamp);",
                  "",
                  "var request_body = ",
                  "{",
                  "    \"email\": \"{{customer_email}}@clickswitch.com\",",
                  "    \"phoneNumber\": \"2183309148\",",
                  "    \"accountHolders\" : [",
                  "        {",
                  "        \"firstName\": \"John\",",
                  "        \"middleInitial\": \"J\",",
                  "        \"lastName\": \"Doe\"",
                  "        },",
                  "        {",
                  "        \"firstName\": \"Jane\",",
                  "        \"middleInitial\": \"M\",",
                  "        \"lastName\": \"Doe\"",
                  "        }",
                  "    ],",
                  "    \"accounts\": [",
                  "        {",
                  "        \"number\": \"212345678900\",",
                  "        \"type\": \"{{checking}}\",",
                  "        \"name\": \"{{checking}}\",",
                  "        \"routingNumber\": \"{{routing_number}}\"",
                  "        }",
                  "    ],",
                  "    \"addresses\": [",
                  "        {",
                  "            \"line1\": \"600 Canal Park Dr.\",",
                  "            \"city\": \"Duluth\",",
                  "            \"zip\": \"55802\",",
                  "            \"state\": \"MN\",",
                  "            \"country\": \"US\"",
                  "        }",
                  "    ]",
                  "};",
                  "",
                  "pm.environment.set(\"request_body\", JSON.stringify(request_body));",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "25fb3e80-5adb-4b32-8b1e-c0eb411ad5cd",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 500\", function () {",
                  "    pm.response.to.have.status(500);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "api key"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{request_body}}\n \n"
            },
            "url": {
              "raw": "{{base_url}}{{customers_postfix}}{{customer_key}}",
              "host": [
                "{{base_url}}{{customers_postfix}}{{customer_key}}"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "",
                  "equals": true,
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "_postman_id": "0edf78dd-f2e1-4ae6-9ef1-65a5a0012ac3",
          "name": "Create Customer Copy",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ec257296-6c1d-4c72-9790-2632324427bb",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1a901b24-2046-404b-b95d-f5a0e4d18305",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required 1st level elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "});",
                  "",
                  "pm.test('Has required 2nd level elements', function() {",
                  "    pm.expect(jsonData.data).to.have.property('item');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has required 3rd level elements', function() {",
                  "    pm.expect(jsonData.data.item).to.have.property('email');",
                  "    pm.expect(jsonData.data.item).to.have.property('phoneNumber');",
                  "    pm.expect(jsonData.data.item).to.have.property('accountHolders');",
                  "    pm.expect(jsonData.data.item).to.have.property('accounts');",
                  "    pm.expect(jsonData.data.item).to.have.property('addresses');",
                  "    pm.expect(jsonData.data.item).to.have.property('metadata');",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "api key"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{{request_body}}"
            },
            "url": {
              "raw": "{{base_url}}{{customers_postfix}}{{customer_key}}",
              "host": [
                "{{base_url}}{{customers_postfix}}{{customer_key}}"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "",
                  "equals": true,
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "_postman_id": "b9cfe2aa-3823-4749-9a80-cf80b1050fb0",
          "name": "Get Created Customer",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ec257296-6c1d-4c72-9790-2632324427bb",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f9f36b28-0291-4478-ba88-6dc3f6513b21",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required 1st level elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "});",
                  "",
                  "pm.test('Has required 2nd level elements', function() {",
                  "    pm.expect(jsonData.data).to.have.property('item');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has required 3rd level elements', function() {",
                  "    pm.expect(jsonData.data.item).to.have.property('email');",
                  "    pm.expect(jsonData.data.item).to.have.property('phoneNumber');",
                  "    pm.expect(jsonData.data.item).to.have.property('accountHolders');",
                  "    pm.expect(jsonData.data.item).to.have.property('accounts');",
                  "    pm.expect(jsonData.data.item).to.have.property('addresses');",
                  "    pm.expect(jsonData.data.item).to.have.property('metadata');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "api key"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "  {\n    \"email\": \"{{customer_email}}@clickswitch.com\",\n    \"phoneNumber\": \"2183309148\",\n    \"metadata\": {\n      \"employee_id\": \"jsmith\",\n      \"branch\": \"21\"\n    },\n    \"accountHolders\" : [\n        {\n        \"firstName\": \"John\",\n        \"middleInitial\": \"J\",\n        \"lastName\": \"Doe\"\n        },\n        {\n        \"firstName\": \"Jane\",\n        \"middleInitial\": \"M\",\n        \"lastName\": \"Doe\"\n        }\n    ],\n    \"accounts\": [\n        {\n        \"number\": \"212345678900\",\n        \"type\": \"{{checking}}\",\n        \"name\": \"{{checking}}\",\n        \"routingNumber\": \"{{routing_number}}\"\n        }\n    ],\n    \"addresses\": [\n        {\n        \"line1\": \"129 Main St.\",\n        \"city\": \"Metropolis\",\n        \"zip\": \"37484\",\n        \"state\": \"DE\",\n        \"country\": \"US\"\n        }\n    ]\n  } \n \n"
            },
            "url": {
              "raw": "{{base_url}}{{customers_postfix}}{{customer_key}}",
              "host": [
                "{{base_url}}{{customers_postfix}}{{customer_key}}"
              ],
              "query": [
                {
                  "key": "context",
                  "value": "",
                  "equals": true,
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "4119ad4a-7080-402f-8fba-4f6dfae1ebd1",
      "name": "Targets",
      "description": "",
      "item": [
        {
          "_postman_id": "588b2234-0a99-4a39-913f-6a27bb126649",
          "name": "Get Targets",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "26b966a1-4339-4ae5-9f3e-b9b674607cf4",
                "type": "text/javascript",
                "exec": [
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Has required elements', function() {",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('apiVersion');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.data).to.have.property('kind');",
                  "    pm.expect(jsonData.data).to.have.property('lang');",
                  "});",
                  "",
                  "pm.test('Has the correct 3 items', function() {",
                  "   pm.expect(jsonData.data.currentItemCount).to.eql(1);",
                  "   pm.expect(jsonData.data.items).to.have.length(1);",
                  "});",
                  "",
                  "pm.environment.set(\"target_id\", jsonData.data.items[0].targetId);"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "api-key",
                "value": "{{api_key}}",
                "description": "Api Key"
              }
            ],
            "body": {},
            "url": {
              "raw": "{{base_url}}{{targets_postfix2}}?type=deposit&name=Saturn&customer=1533929995718",
              "host": [
                "{{base_url}}{{targets_postfix2}}"
              ],
              "query": [
                {
                  "key": "type",
                  "value": "deposit",
                  "equals": true
                },
                {
                  "key": "name",
                  "value": "Saturn",
                  "equals": true
                },
                {
                  "key": "customer",
                  "value": "1533929995718",
                  "equals": true
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "4e6218b2-1e44-4194-b629-238f81893bf9",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "7c7cc4ad-67c5-45dd-ac30-d3aafba818fb",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}